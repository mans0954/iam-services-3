use openiam;

/*remove old user menus*/

DELETE FROM  RESOURCE_PROP WHERE RESOURCE_ID in ('USER_MENU_ROOT', 'USER_EDIT_MENU_ROOT','ADDUSER','NEW_USER','USERSUMMARY','USERROLE',
                                                 'USERPSWDRESET','USERORG','USERORG','USERIDENTITY','USERHISTORY','USERGROUP','USERATTR','QUERYUSER',
                                                 'USER','USER_ROOT_MENU', 'NEW_USER','USER_EDIT_MENU','USER_SEARCH','USER_EDIT_INFO',
                                                 'USER_EDIT_CONTACT_INFO','USER_ATTRIBUTES','USER_IDENTITY','USER_ENTITLEMENTS','USER_HISTORY','USER_DELEGATION');

DELETE FROM RESOURCE_ROLE where RESOURCE_ID in ('USER_MENU_ROOT', 'USER_EDIT_MENU_ROOT','ADDUSER','NEW_USER','USERSUMMARY','USERROLE',
                                                'USERPSWDRESET','USERORG','USERORG','USERIDENTITY','USERHISTORY','USERGROUP','USERATTR','QUERYUSER',
                                                'NEW_USER','USER_SEARCH','USER_EDIT_INFO',
                                                'USER_EDIT_CONTACT_INFO','USER_ATTRIBUTES','USER_IDENTITY','USER_ENTITLEMENTS','USER_HISTORY','USER_DELEGATION');

DELETE FROM  res_to_res_membership WHERE RESOURCE_ID in ('USER_MENU_ROOT', 'USER_EDIT_MENU_ROOT', 'USER_ROOT_MENU','USER_EDIT_MENU');

DELETE FROM  res_to_res_membership WHERE MEMBER_RESOURCE_ID in ('USER_MENU_ROOT', 'USER_EDIT_MENU_ROOT', 'USER_ROOT_MENU','USER_EDIT_MENU');

DELETE FROM  res_to_res_membership WHERE RESOURCE_ID in ('USER_MENU_ROOT', 'USER_EDIT_MENU_ROOT','ADDUSER','NEW_USER','USERSUMMARY','USERROLE',
	'USERPSWDRESET','USERORG','USERORG','USERIDENTITY','USERHISTORY','USERGROUP','USERATTR','QUERYUSER',
	'NEW_USER','USER_SEARCH','USER_EDIT_INFO', 'USER_ROOT_MENU','USER_EDIT_MENU'
	'USER_EDIT_CONTACT_INFO','USER_ATTRIBUTES','USER_IDENTITY','USER_ENTITLEMENTS','USER_HISTORY','USER_DELEGATION');

DELETE FROM  res_to_res_membership WHERE MEMBER_RESOURCE_ID in ('USER_MENU_ROOT', 'USER_EDIT_MENU_ROOT','ADDUSER','NEW_USER','USERSUMMARY','USERROLE',
	'USERPSWDRESET','USERORG','USERORG','USERIDENTITY','USERHISTORY','USERGROUP','USERATTR','QUERYUSER',
	'NEW_USER','USER_SEARCH','USER_EDIT_INFO', 'USER_ROOT_MENU','USER_EDIT_MENU'
	'USER_EDIT_CONTACT_INFO','USER_ATTRIBUTES','USER_IDENTITY','USER_ENTITLEMENTS','USER_HISTORY','USER_DELEGATION');

DELETE FROM  RES WHERE RESOURCE_ID in ('USER_MENU_ROOT', 'USER_EDIT_MENU_ROOT','ADDUSER','NEW_USER','USERSUMMARY','USERROLE',
                                       'USERPSWDRESET','USERORG','USERORG','USERIDENTITY','USERHISTORY','USERGROUP','USERATTR','QUERYUSER',
                                       'NEW_USER','USER_SEARCH','USER_EDIT_INFO', 'USER_ROOT_MENU','USER_EDIT_MENU'
                                       'USER_EDIT_CONTACT_INFO','USER_ATTRIBUTES','USER_IDENTITY','USER_ENTITLEMENTS','USER_HISTORY','USER_DELEGATION');


/*user root menus*/
UPDATE RES SET URL='/webconsole/users.html' WHERE RESOURCE_ID='USER';

INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_MENU_PUB', 'USER', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_MENU_DESC', 'USER', 'MENU_DISPLAY_NAME', 'User');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION) VALUES('USER_ROOT_MENU', 'MENU_ITEM', 'USER_ROOT_MENU', 'Root for User Context Menu');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_ROOT_MENU_PUB', 'USER_ROOT_MENU', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_ROOT_MENU_DESC', 'USER_ROOT_MENU', 'MENU_DISPLAY_NAME', 'User Root Menu');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL) VALUES('NEW_USER', 'MENU_ITEM', 'NEW_USER', 'Create New User','/webconsole/editUser.html');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('NEW_USER_PUB', 'NEW_USER', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('NEW_USER_DESC', 'NEW_USER', 'MENU_DISPLAY_NAME', 'Create New User');

INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_ROOT_MENU', 'NEW_USER');

/*user edit menu*/
INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION) VALUES('USER_EDIT_MENU', 'MENU_ITEM', 'USER_EDIT_MENU', 'User Edit Menus');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_EDIT_MENU_PUB', 'USER_EDIT_MENU', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_EDIT_MENU_DESC', 'USER_EDIT_MENU', 'MENU_DISPLAY_NAME', 'User Root Edit Menu');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_SEARCH', 'MENU_ITEM', 'USER_SEARCH', 'User Search','/webconsole/users.html',1);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_SEARCH_PUB', 'USER_SEARCH', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_SEARCH_DESC', 'USER_SEARCH', 'MENU_DISPLAY_NAME', 'User Search');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_EDIT_INFO', 'MENU_ITEM', 'USER_EDIT_INFO', 'Edit User Primary Info','/webconsole/editUser.html',2);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_EDIT_INFO_PUB', 'USER_EDIT_INFO', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_EDIT_INFO_DESC', 'USER_EDIT_INFO', 'MENU_DISPLAY_NAME', 'User Info');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_EDIT_CONTACT_INFO', 'MENU_ITEM', 'USER_EDIT_CONTACT_INFO', 'Edit User Contact Info','/webconsole/editUserContact.html',3);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_EDIT_CONTACT_INFO_PUB', 'USER_EDIT_CONTACT_INFO', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_EDIT_CONTACT_INFO_DESC', 'USER_EDIT_CONTACT_INFO', 'MENU_DISPLAY_NAME', 'Contact Info');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_ATTRIBUTES', 'MENU_ITEM', 'USER_ATTRIBUTES', 'Edit User Attributes','/webconsole/userAttributes.html',4);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_ATTRIBUTES_PUB', 'USER_ATTRIBUTES', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_ATTRIBUTES_DESC', 'USER_ATTRIBUTES', 'MENU_DISPLAY_NAME', 'User Attributes');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_IDENTITY', 'MENU_ITEM', 'USER_IDENTITY', 'Edit User Supervisor Info','/webconsole/editUserIdentity.html',6);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_IDENTITY_PUB', 'USER_IDENTITY', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_IDENTITY_DESC', 'USER_IDENTITY', 'MENU_DISPLAY_NAME', 'Contact Info');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_ENTITLEMENTS', 'MENU_ITEM', 'USER_ENTITLEMENTS', 'User Entitlements','/webconsole/userEntitlements.html',7);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_ENTITLEMENTS_PUB', 'USER_ENTITLEMENTS', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_ENTITLEMENTS_DESC', 'USER_ENTITLEMENTS', 'MENU_DISPLAY_NAME', 'User Entitlements');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_HISTORY', 'MENU_ITEM', 'USER_HISTORY', 'User History','/webconsole/userHistory.html',8);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_HISTORY_PUB', 'USER_HISTORY', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_HISTORY_DESC', 'USER_HISTORY', 'MENU_DISPLAY_NAME', 'User History');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('USER_DELEGATION', 'MENU_ITEM', 'USER_DELEGATION', 'User Delegation Filter','/webconsole/userDelegation.html',9);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_DELEGATION_PUB', 'USER_DELEGATION', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('USER_DELEGATION_DESC', 'USER_DELEGATION', 'MENU_DISPLAY_NAME', 'User Delegation Filter');

INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_EDIT_MENU', 'USER_SEARCH');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_EDIT_MENU', 'USER_EDIT_INFO');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_EDIT_MENU', 'USER_EDIT_CONTACT_INFO');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_EDIT_MENU', 'USER_ATTRIBUTES');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_EDIT_MENU', 'USER_ENTITLEMENTS');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_EDIT_MENU', 'USER_HISTORY');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('USER_EDIT_MENU', 'USER_DELEGATION');

INSERT INTO RESOURCE_ROLE (RESOURCE_ID, ROLE_ID)
  VALUES ('USER_SEARCH',9),
         ('USER_EDIT_INFO',9),
         ('USER_EDIT_CONTACT_INFO',9),
         ('USER_ATTRIBUTES',9),
         ('USER_ENTITLEMENTS',9),
         ('USER_HISTORY',9),
         ('USER_DELEGATION',9),
         ('NEW_USER',9);
