use openiam;

UPDATE RES SET URL='/webconsole/roles.html' WHERE RESOURCE_ID='SECURITY_ROLE';
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('SECURITY_ROLE_MENU_PUBLIC', 'SECURITY_ROLE', 'MENU_IS_PUBLIC', 'true');

DELETE FROM RESOURCE_COMPANY WHERE RESOURCE_ID IN(SELECT MEMBER_RESOURCE_ID FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE');
DELETE FROM RESOURCE_GROUP  WHERE RESOURCE_ID IN(SELECT MEMBER_RESOURCE_ID FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE');
DELETE FROM RESOURCE_POLICY WHERE RESOURCE_ID IN(SELECT MEMBER_RESOURCE_ID FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE');
DELETE FROM RESOURCE_PRIVILEGE WHERE RESOURCE_ID IN(SELECT MEMBER_RESOURCE_ID FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE');
DELETE FROM RESOURCE_PROP WHERE RESOURCE_ID IN(SELECT MEMBER_RESOURCE_ID FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE');
DELETE FROM RESOURCE_ROLE WHERE RESOURCE_ID IN(SELECT MEMBER_RESOURCE_ID FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE');
DELETE FROM RESOURCE_USER WHERE RESOURCE_ID IN(SELECT MEMBER_RESOURCE_ID FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE');
DELETE FROM res_to_res_membership WHERE RESOURCE_ID='SECURITY_ROLE';

/* role root menus */
INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL) VALUES('ROLE_ROOT_MENU', 'MENU_ITEM', 'ROLE_ROOT_MENU', 'Role Root Menus','/webconsole/roles.html');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_ROOT_MENU_PUB', 'ROLE_ROOT_MENU', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_ROOT_MENU_DESC', 'ROLE_ROOT_MENU', 'MENU_DISPLAY_NAME', 'Role Root Menu');


INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL) VALUES('ROLE_SEARCH', 'MENU_ITEM', 'ROLE_SEARCH', 'Role Search','/webconsole/roles.html');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_SEARCH_PUB', 'ROLE_SEARCH', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_SEARCH_DESC', 'ROLE_SEARCH', 'MENU_DISPLAY_NAME', 'Role Search');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL) VALUES('NEW_ROLE', 'MENU_ITEM', 'NEW_ROLE', 'New Role','/webconsole/editRole.html');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('NEW_ROLE_PUB', 'NEW_ROLE', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('NEW_ROLE_DESC', 'NEW_ROLE', 'MENU_DISPLAY_NAME', 'Create New Role');

INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('ROLE_ROOT_MENU', 'ROLE_SEARCH');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('ROLE_ROOT_MENU', 'NEW_ROLE');


/* role edit menus */
INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION) VALUES('ROLE_EDIT_MENU', 'MENU_ITEM', 'ROLE_EDIT_MENU', 'Role Edit Menus');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_EDIT_MENU_PUB', 'ROLE_EDIT_MENU', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_EDIT_MENU_DESC', 'ROLE_EDIT_MENU', 'MENU_DISPLAY_NAME', 'Role Root Edit Menu');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL) VALUES('EDIT_ROLE', 'MENU_ITEM', 'EDIT_ROLE', 'Role Menus','/webconsole/editRole.html');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('EDIT_ROLE_PUB', 'EDIT_ROLE', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('EDIT_ROLE_DESC', 'EDIT_ROLE', 'MENU_DISPLAY_NAME', 'Edit Role');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL) VALUES('ROLE_ATTRIBUTES', 'MENU_ITEM', 'ROLE_ATTRIBUTES', 'Role Attributes','/webconsole/roleAttributes.html');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_ATTRIBUTES_PUB', 'ROLE_ATTRIBUTES', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_ATTRIBUTES_DESC', 'ROLE_ATTRIBUTES', 'MENU_DISPLAY_NAME', 'Role Attributes');

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL) VALUES('ROLE_ENTITLEMENTS', 'MENU_ITEM', 'ROLE_ENTITLEMENTS', 'Role Entitlements','/webconsole/roleEntitlements.html');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_ENTITLEMENTS_PUB', 'ROLE_ENTITLEMENTS', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, PROP_VALUE) VALUES ('ROLE_ENTITLEMENTS_DESC', 'ROLE_ENTITLEMENTS', 'MENU_DISPLAY_NAME', 'Role Entitlements');

INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('ROLE_EDIT_MENU', 'EDIT_ROLE');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('ROLE_EDIT_MENU', 'ROLE_ATTRIBUTES');
INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('ROLE_EDIT_MENU', 'ROLE_ENTITLEMENTS');